<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../src/style.css" />
    <link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon" />
    <script type="module">
      import { card } from "../src/cards";
      window.onload = () => {
        const mainCard = card("main").title("Card Example");
        const loginSection = mainCard.section("Log in");
        loginSection
          .input("login", "text", "Login: ")
          .onChange((login) => console.log("login value set to:", login));
        loginSection
          .input("password", "password", "Password: ")
          .onChange((password) =>
            console.log("password value set to:", password),
          );
        loginSection
          .action("Cancel")
          .onClick(() =>
            loginSection.error("You don't seem to want to log in"),
          );
        loginSection.action("Submit").onClick(() => {
          mainCard.busy();
          setTimeout(() => mainCard.available(), 3000);
        });
        loginSection
          .action("Show input map")
          .onClick(() =>
            loginSection.withValueMap((valueMap) => console.log(valueMap)),
          );
      };
    </script>
  </head>
  <body>
    <div id="main" style="width: 30em"></div>
  </body>
</html>
